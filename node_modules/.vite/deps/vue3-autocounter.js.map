{
  "version": 3,
  "sources": ["../../vue3-autocounter/dist/vue3-autocounter.esm.js", "dep:vue3-autocounter"],
  "sourcesContent": ["import { defineComponent, openBlock, createBlock, toDisplayString } from 'vue';\n\nvar script = defineComponent({\n  name: \"Vue3Autocounter\",\n  interval: null,\n  props: {\n    startAmount: {\n      type: Number,\n      default: 0\n    },\n    endAmount: {\n      type: Number,\n      default: 0,\n      required: true\n    },\n    duration: {\n      type: Number,\n      default: 3,\n\n      validator(duration) {\n        return duration >= 1;\n      }\n\n    },\n    autoinit: {\n      type: Boolean,\n      default: true\n    },\n    prefix: {\n      type: String,\n      default: ''\n    },\n    suffix: {\n      type: String,\n      default: ''\n    },\n    separator: {\n      type: String,\n      default: ','\n    },\n    decimalSeparator: {\n      type: String,\n      default: '.'\n    },\n    decimals: {\n      type: Number,\n      default: 0,\n\n      validator(decimals) {\n        return decimals >= 0;\n      }\n\n    }\n  },\n\n  data() {\n    return {\n      timestamp: 0,\n      startTimestamp: 0,\n      currentAmount: 0,\n      currentStartAmount: 0,\n      currentDuration: 0,\n      paused: false,\n      remaining: 0,\n      animationFrame: 0\n    };\n  },\n\n  mounted() {\n    this.currentAmount = this.startAmount;\n    this.currentStartAmount = this.startAmount;\n    this.currentDuration = this.duration * 1000;\n    this.remaining = this.duration * 1000;\n    if (this.autoinit) this.start();else this.paused = true;\n    this.$emit('mounted');\n  },\n\n  unmounted() {\n    this.cancelAnimation();\n  },\n\n  watch: {\n    startAmount() {\n      this.reset();\n    },\n\n    endAmount() {\n      this.reset();\n    },\n\n    duration() {\n      this.reset();\n    }\n\n  },\n  computed: {\n    isCountingUp() {\n      return this.endAmount > this.startAmount;\n    },\n\n    displayedAmount() {\n      return `${this.prefix}${this.formatedAmount}${this.suffix}`;\n    },\n\n    formatedAmount() {\n      const regex = /(\\d+)(\\d{3})/;\n      let numberString = this.currentAmount.toFixed(this.decimals);\n      numberString += '';\n      let numberArray = numberString.split('.');\n      let numbers = numberArray[0];\n      let decimals = numberArray.length > 1 ? this.decimalSeparator + numberArray[1] : '';\n      let isNumber = !isNaN(parseFloat(this.separator));\n\n      if (this.separator && !isNumber) {\n        while (regex.test(numbers)) numbers = numbers.replace(regex, '$1' + this.separator + '$2');\n      }\n\n      return numbers + decimals;\n    }\n\n  },\n  methods: {\n    start() {\n      this.cancelAnimation();\n      this.currentStartAmount = this.startAmount;\n      this.startTimestamp = null;\n      this.currentDuration = this.duration * 1000;\n      this.paused = false;\n      this.animationFrame = window.requestAnimationFrame(this.counting);\n    },\n\n    pause() {\n      if (this.paused) return;\n      this.cancelAnimation();\n      this.paused = true;\n    },\n\n    resume() {\n      if (!this.paused) return;\n      this.startTimestamp = null;\n      this.currentDuration = +this.remaining;\n      this.currentStartAmount = +this.currentAmount;\n      this.animationFrame = window.requestAnimationFrame(this.counting);\n      this.paused = false;\n    },\n\n    reset() {\n      this.paused = false;\n      this.startTimestamp = null;\n      this.cancelAnimation();\n      this.currentAmount = this.startAmount;\n      if (this.autoinit) this.start();else this.paused = true;\n    },\n\n    counting(timestamp) {\n      this.timestamp = timestamp;\n      if (!this.startTimestamp) this.startTimestamp = timestamp;\n      let progress = timestamp - this.startTimestamp;\n      this.remaining = this.currentDuration - progress;\n\n      if (!this.isCountingUp) {\n        this.currentAmount = this.currentStartAmount - (this.currentStartAmount - this.endAmount) * (progress / this.currentDuration);\n        this.currentAmount = this.currentAmount < this.endAmount ? this.endAmount : this.currentAmount;\n      } else {\n        this.currentAmount = this.currentStartAmount + (this.endAmount - this.currentStartAmount) * (progress / this.currentDuration);\n        this.currentAmount = this.currentAmount > this.endAmount ? this.endAmount : this.currentAmount;\n      }\n\n      if (progress < this.currentDuration) this.animationFrame = window.requestAnimationFrame(this.counting);else {\n        setTimeout(() => {\n          this.$emit('finished');\n        }, 1000);\n      }\n    },\n\n    cancelAnimation() {\n      if (this.animationFrame) window.cancelAnimationFrame(this.animationFrame);\n    }\n\n  }\n});\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createBlock(\"span\", null, toDisplayString(_ctx.displayedAmount), 1);\n}\n\nscript.render = render;\n\n// Import vue component\n\n// Default export is installable instance of component.\n// IIFE injects install function into component, allowing component\n// to be registered via Vue.use() as well as Vue.component(),\nvar entry_esm = /*#__PURE__*/(() => {\n  // Assign InstallableComponent type\n  const installable = script; // Attach install function executed by Vue.use()\n\n  installable.install = app => {\n    app.component('Vue3Autocounter', installable);\n  };\n\n  return installable;\n})(); // It's possible to expose named exports when writing components that can\n// also be used as directives, etc. - eg. import { RollupDemoDirective } from 'rollup-demo';\n// export const RollupDemoDirective = directive;\n\nexport default entry_esm;\n", "import d from \"./node_modules/vue3-autocounter/dist/vue3-autocounter.esm.js\";export default d;"],
  "mappings": ";;;;;;;;;;;AAEA,IAAI,SAAS,gBAAgB;AAAA,EAC3B,MAAM;AAAA,EACN,UAAU;AAAA,EACV,OAAO;AAAA,IACL,aAAa;AAAA,MACX,MAAM;AAAA,MACN,SAAS;AAAA,IACX;AAAA,IACA,WAAW;AAAA,MACT,MAAM;AAAA,MACN,SAAS;AAAA,MACT,UAAU;AAAA,IACZ;AAAA,IACA,UAAU;AAAA,MACR,MAAM;AAAA,MACN,SAAS;AAAA,MAET,UAAU,UAAU;AAClB,eAAO,YAAY;AAAA,MACrB;AAAA,IAEF;AAAA,IACA,UAAU;AAAA,MACR,MAAM;AAAA,MACN,SAAS;AAAA,IACX;AAAA,IACA,QAAQ;AAAA,MACN,MAAM;AAAA,MACN,SAAS;AAAA,IACX;AAAA,IACA,QAAQ;AAAA,MACN,MAAM;AAAA,MACN,SAAS;AAAA,IACX;AAAA,IACA,WAAW;AAAA,MACT,MAAM;AAAA,MACN,SAAS;AAAA,IACX;AAAA,IACA,kBAAkB;AAAA,MAChB,MAAM;AAAA,MACN,SAAS;AAAA,IACX;AAAA,IACA,UAAU;AAAA,MACR,MAAM;AAAA,MACN,SAAS;AAAA,MAET,UAAU,UAAU;AAClB,eAAO,YAAY;AAAA,MACrB;AAAA,IAEF;AAAA,EACF;AAAA,EAEA,OAAO;AACL,WAAO;AAAA,MACL,WAAW;AAAA,MACX,gBAAgB;AAAA,MAChB,eAAe;AAAA,MACf,oBAAoB;AAAA,MACpB,iBAAiB;AAAA,MACjB,QAAQ;AAAA,MACR,WAAW;AAAA,MACX,gBAAgB;AAAA,IAClB;AAAA,EACF;AAAA,EAEA,UAAU;AACR,SAAK,gBAAgB,KAAK;AAC1B,SAAK,qBAAqB,KAAK;AAC/B,SAAK,kBAAkB,KAAK,WAAW;AACvC,SAAK,YAAY,KAAK,WAAW;AACjC,QAAI,KAAK;AAAU,WAAK,MAAM;AAAA;AAAO,WAAK,SAAS;AACnD,SAAK,MAAM,SAAS;AAAA,EACtB;AAAA,EAEA,YAAY;AACV,SAAK,gBAAgB;AAAA,EACvB;AAAA,EAEA,OAAO;AAAA,IACL,cAAc;AACZ,WAAK,MAAM;AAAA,IACb;AAAA,IAEA,YAAY;AACV,WAAK,MAAM;AAAA,IACb;AAAA,IAEA,WAAW;AACT,WAAK,MAAM;AAAA,IACb;AAAA,EAEF;AAAA,EACA,UAAU;AAAA,IACR,eAAe;AACb,aAAO,KAAK,YAAY,KAAK;AAAA,IAC/B;AAAA,IAEA,kBAAkB;AAChB,aAAO,GAAG,KAAK,SAAS,KAAK,iBAAiB,KAAK;AAAA,IACrD;AAAA,IAEA,iBAAiB;AACf,YAAM,QAAQ;AACd,UAAI,eAAe,KAAK,cAAc,QAAQ,KAAK,QAAQ;AAC3D,sBAAgB;AAChB,UAAI,cAAc,aAAa,MAAM,GAAG;AACxC,UAAI,UAAU,YAAY;AAC1B,UAAI,WAAW,YAAY,SAAS,IAAI,KAAK,mBAAmB,YAAY,KAAK;AACjF,UAAI,WAAW,CAAC,MAAM,WAAW,KAAK,SAAS,CAAC;AAEhD,UAAI,KAAK,aAAa,CAAC,UAAU;AAC/B,eAAO,MAAM,KAAK,OAAO;AAAG,oBAAU,QAAQ,QAAQ,OAAO,OAAO,KAAK,YAAY,IAAI;AAAA,MAC3F;AAEA,aAAO,UAAU;AAAA,IACnB;AAAA,EAEF;AAAA,EACA,SAAS;AAAA,IACP,QAAQ;AACN,WAAK,gBAAgB;AACrB,WAAK,qBAAqB,KAAK;AAC/B,WAAK,iBAAiB;AACtB,WAAK,kBAAkB,KAAK,WAAW;AACvC,WAAK,SAAS;AACd,WAAK,iBAAiB,OAAO,sBAAsB,KAAK,QAAQ;AAAA,IAClE;AAAA,IAEA,QAAQ;AACN,UAAI,KAAK;AAAQ;AACjB,WAAK,gBAAgB;AACrB,WAAK,SAAS;AAAA,IAChB;AAAA,IAEA,SAAS;AACP,UAAI,CAAC,KAAK;AAAQ;AAClB,WAAK,iBAAiB;AACtB,WAAK,kBAAkB,CAAC,KAAK;AAC7B,WAAK,qBAAqB,CAAC,KAAK;AAChC,WAAK,iBAAiB,OAAO,sBAAsB,KAAK,QAAQ;AAChE,WAAK,SAAS;AAAA,IAChB;AAAA,IAEA,QAAQ;AACN,WAAK,SAAS;AACd,WAAK,iBAAiB;AACtB,WAAK,gBAAgB;AACrB,WAAK,gBAAgB,KAAK;AAC1B,UAAI,KAAK;AAAU,aAAK,MAAM;AAAA;AAAO,aAAK,SAAS;AAAA,IACrD;AAAA,IAEA,SAAS,WAAW;AAClB,WAAK,YAAY;AACjB,UAAI,CAAC,KAAK;AAAgB,aAAK,iBAAiB;AAChD,UAAI,WAAW,YAAY,KAAK;AAChC,WAAK,YAAY,KAAK,kBAAkB;AAExC,UAAI,CAAC,KAAK,cAAc;AACtB,aAAK,gBAAgB,KAAK,sBAAsB,KAAK,qBAAqB,KAAK,cAAc,WAAW,KAAK;AAC7G,aAAK,gBAAgB,KAAK,gBAAgB,KAAK,YAAY,KAAK,YAAY,KAAK;AAAA,MACnF,OAAO;AACL,aAAK,gBAAgB,KAAK,sBAAsB,KAAK,YAAY,KAAK,uBAAuB,WAAW,KAAK;AAC7G,aAAK,gBAAgB,KAAK,gBAAgB,KAAK,YAAY,KAAK,YAAY,KAAK;AAAA,MACnF;AAEA,UAAI,WAAW,KAAK;AAAiB,aAAK,iBAAiB,OAAO,sBAAsB,KAAK,QAAQ;AAAA,WAAO;AAC1G,mBAAW,MAAM;AACf,eAAK,MAAM,UAAU;AAAA,QACvB,GAAG,GAAI;AAAA,MACT;AAAA,IACF;AAAA,IAEA,kBAAkB;AAChB,UAAI,KAAK;AAAgB,eAAO,qBAAqB,KAAK,cAAc;AAAA,IAC1E;AAAA,EAEF;AACF,CAAC;AAED,SAAS,OAAO,MAAM,QAAQ,QAAQ,QAAQ,OAAO,UAAU;AAC7D,SAAO,UAAU,GAAG,YAAY,QAAQ,MAAM,gBAAgB,KAAK,eAAe,GAAG,CAAC;AACxF;AAEA,OAAO,SAAS;AAOhB,IAAI,aAA0B,MAAM;AAElC,QAAM,cAAc;AAEpB,cAAY,UAAU,SAAO;AAC3B,QAAI,UAAU,mBAAmB,WAAW;AAAA,EAC9C;AAEA,SAAO;AACT,GAAG;AAIH,IAAO,+BAAQ;;;AC9M8D,IAAO,2BAAQ;",
  "names": []
}
